"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.errorLikeFromException = void 0;
/** Convert an unknown exception into an ErrorLike object literal */
function errorLikeFromException(exception) {
    switch (typeof exception) {
        case 'string':
        case 'bigint':
        case 'boolean':
        case 'number':
        case 'symbol':
        case 'undefined': {
            return {
                message: `Encountered a "${typeof exception}" exception "${String(exception)}"`,
                stack: stackFactory(),
            };
        }
        case 'function':
        case 'object':
        default: {
            if (!exception) {
                // Presumably null
                return {
                    message: `A non-truthy object or function exception has been encountered ${exception}`,
                    stack: stackFactory(),
                };
            }
            const { message, code, stack } = exception;
            const errorLike = {
                message: typeof message === 'string' ? message : '',
                stack: typeof stack === 'string' ? stack : stackFactory(),
            };
            if (typeof code !== 'undefined') {
                errorLike.code = String(code);
            }
            return errorLike;
        }
    }
}
exports.errorLikeFromException = errorLikeFromException;
function stackFactory() {
    return new Error().stack || '';
}
//# sourceMappingURL=error-like-from-exception.js.map